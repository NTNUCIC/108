<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Arduino</title>
		<link rel="icon" type="image/x-icon" href="../../images/favicon.ico">
		<link rel="shortcut icon" type="image/x-icon" href="../../images/favicon.ico">
		<meta name="og:title" content="Arduino">
		<meta name="og:url" content="http://ntnucic.github.io/Courses/slides/20190507-Arduino/index.html">
		<meta name="og:description" content="國立臺灣師範大學資訊研究社Arduino課程投影片">
		<meta name="og:image" content="../../images/cic.jpg">
		<meta name="og:site_name" content="NTNUCIC">
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
		<link rel="stylesheet" href="../css/reveal.css">
		<link rel="stylesheet" href="../css/theme/black.css" id="theme">
		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="../lib/css/zenburn.css">
		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>
	<body>
		<div class="reveal">
			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				<section>
					<section>
						<h1>Arduino (上)</h1>
						<h2>Android App</h2>
						<h6>2019/02/20 陳惴棋</h6>
					</section>
					<section>
						<h1>Arduino (下)</h1>
						<h2>1010011000101...</h2>
						<h6>2019/02/20 林弘祥</h6>
					</section>
				</section>

				<section>
					<section>
						<h1>目錄</h1>
						<ul style="list-style-type: disc;">
							<li>Android App ...</li>
							<li>Arduino</li>
							<li>基本語法解說</li>
							<li>SG-90 控制代碼教學</li>
							<li>HC-05 基本指令教學</li>
							<li>綜合應用</li>
						</ul>
					</section>
				</section>
				
				<section>
					<section>
						<h1>Android App...</h1>
					</section>
				</section>

				<section>
					<section>
						<h1>Arduino</h1>
						<h4><spqn class="fragment">還記得電路圖吧?</spqn><spqn class="fragment">先將它給連接好吧 \(OwO \)</spqn></h4>
					</section>
					<section>
						<img src="./sketch/demo1.jpg" alt="電路圖" title="電路圖">
					</section>
				</section>

				<section>
					<section>
						<h1>安裝軟體</h1>
					</section>
					<section>
						<h2>安裝 PL2303 的驅動程式</h2>
						<a href="https://www.ez2o.com/Blog/Post/PL2303HX-Win8-Win8.1-Win10">下載連結</a>
					</section>
					<section>
						<h2>安裝 Arduino IDE</h2>
						<a href="https://www.arduino.cc/en/main/software">下載連結</a>
					</section>
					<section>
						<h2>打開Arduino IDE 看看有沒有找到pro mini版吧!</h2>
						<h5>(ex: COM6 : Arduino pro mini)</h5>
					</section>
				</section>

				<section>
					<section>
						<h1>基本語法解說</h1>
						<h3 class="fragment">跟C++很像 有學過的可以自己玩玩</h3>
						<h3 class="fragment">想學C++的 歡迎來我們社團玩玩 (OHO)</h3>
					</section>
				</section>

				<section>
					<section>
						<h3>那...<span class="fragment">就開始寫吧 !(OuO )</span></h3>
						<h3 class="fragment">沒有拉... Ctrl大法而已</h3>
					</section>
				</section>

				<section>
					<section>
						<h1>Hello World</h1>
						<h2 class="fragment">Arduino版</h2>
					</section>
					<section>
						<h1>(/ OAO)/ Blink !!!</h1>
						<h5>(@ File/Open Example/Basics/Blink.ino)</h5>
					</section>
					<section>
						<h2>確認板子有設定對...</h2>
						<h4>上傳看看有沒有發生什麼變化吧! (OuO)</h4>
					</section>
				</section>

				<section>
					<section>
						<h2>理論上 多了一顆閃爍的LED (O_O)?</h2>
						<pre class="fragment">
							<h1>嘗試看看更改第21,23行的數字看看</h1>
							<code class="arduino">delay(...);</code>
						</pre>
						<h2 class="fragment">閃的變慢了 !(OAO )</h2>
					</section>
					<section>
						<h2>恭喜大家完成第一個程式 \(>w<)/ </h2>
					</section>
				</section>

				<section>	
					<section>
						<h3>講解一下剛剛那段代碼在做啥吧 \(OwO \)</h3>
					</section>
				</section>

				<section>	
					<section>
						<h2>註解</h2>
						<h3>功能類似備忘錄，讓人知道這是在做啥的</h3>
						<pre><code class="arduino">/*
  Blink
  Turns on an LED on for one second, then off for one second, repeatedly.
  This example code is in the public domain.
	*/
	
// Pin 13 has an LED connected on most Arduino boards.</code></pre>
					</section>
					<section>
						<h2>註解</h2>
						<h3>不會影響到程式本身，有兩種表達形式</h3>
						<pre><code class="arduino">// 單行註解
/* 
  多行註解
  多行註解
  多行註解
*/</code></pre>
					</section>
				</section>

				<section>
					<section>
						<h2>宣告變數</h2>
						<h3>告訴電腦你定義了些甚麼東西</h3>
						<h5>格式: [type] [name] (= [value]);</h5>
						<pre><code class="arduino">int led = 13;</code></pre>
					</section>
					<section>
						<h3>舉例來說:</h3>
						<h3>定義"整數""x"的值為"673"</h3>
						<pre><code class="arduino">int x = 673;</code></pre>
						<h3>定義"浮點數""y"的值為"3"</h3>
						<pre><code class="arduino">float y = 3;</code></pre>
					</section>
				</section>

				<section>
					<section>
						<h2>函數</h2>
						<h3>告訴電腦按照(先前)定義好的指令做事</h3>
						<h5>格式: [return type] [name](*args){/*codes*/};</h5>
						<pre><code class="arduino">// the setup routine runs once when you press reset:
void setup() {                
  // initialize the digital pin as an output.
  pinMode(led, OUTPUT);     
}
// the loop routine runs over and over again forever:
void loop() {
  digitalWrite(led, HIGH);   // turn the LED on (HIGH is the voltage level)
  delay(1000);               // wait for a second
  digitalWrite(led, LOW);    // turn the LED off by making the voltage LOW
  delay(1000);               // wait for a second
}</code></pre>
					</section>
					<section>
						<h3>舉例來說:</h3>
						<h3>剛剛再玩的delay();就是一種函數</h3>
						<pre><code class="arduino">// def
void dealy(int ms)
{
	sleep(ms);
}
//use
delay(1000);</code></pre>
					</section>
				</section>

				<section>
					<section>
						<h1>流程控制</h1>
						<pre><code class="arduino">void setup() {
  // put your setup code here, to run once:
}

void loop() {
  // put your main code here, to run repeatedly:
}</code></pre>
						<h3 class="fragment">有點難解釋...後面用到再講</h3>
						<h3 class="fragment">先記得電腦都是一行一行執行的</h3>
						<h5 class="fragment">還有我們之後只會動到loop()裡面的東西就好</h5>
					</section>
				</section>

				<section>
					<section>
						<h1>SG-90 控制代碼教學</h1>
					</section>
					<section>
						<h2>SG-90 本體</h2>
						<img src="https://www.robotistan.com/tower-pro-sg90-rc-mini-servo-motor-eng-21731-15-O.jpg" alt="Error" title="servo motor">
					</section>
					<section>
						<h2>本段落會用到的一些代碼</h2>
						<pre><code class="arduino">Servo MyServo;
MyServo.attach(DataPin, 500, 2400);
MyServo.write(int);</code></pre>
						<a href="./example/SG90.ino">範例下載</a>
					</section>
				</section>
				
				<section>
					<section>
						<h3>講解一下這次的範例在做啥吧 \(OwO \)</h3>
					</section>
					<section>
						<h5>引入檔案並宣告一個物件MyServo</h5>
						<pre><code class="arduino">#include &ltWire.h&gt
#include &ltServo.h&gt
#define DataPin 8
Servo MyServo;</code></pre>
					</section>
					<section>
						<h5>指定MyServo的輸出位置並歸位</h5>
						<pre><code class="arduino">MyServo.attach(DataPin, 500, 2400);
MyServo.write(90);</code></pre>
					</section>
					<section>
						<h5>指定MyServo轉到...度(0~180)</h5>
						<pre><code class="arduino">MyServo.write(...);</code></pre>
					</section>
					<section>
						<h2>好了 可以來玩拉 \(OwO \)</h2>
						<h3>嘗試看看更改第10~13行的數字看看</h3>
						<pre><code class="arduino">MyServo.write(...);
delay(...);
MyServo.write(...);
delay(...);</code></pre>
					</section>
<!-- 					<section>
						<h2>休息一下 等等就快完成拉 \(OuO )</h2>
					</section> -->
				</section>

				<section>
					<section>
						<h1>HC-05 基本指令教學</h1>
					</section>
					<section>
						<h2>HC-05 本體</h2>
						<img src="https://www.taiwaniot.com.tw/wp-content/uploads/2016/01/41fG4L1FvOL.jpg" alt="ERROR" title="Bluetooth">
					</section>
					<section>
						<h2>本段落會用到的一些代碼</h2>
						<pre><code class="arduino">SoftwareSerial BTSerial(RXD, TXD);
BTSerial.begin(38400);
BTSerial.available();
Serial.read();
BTSerial.write(...);</code></pre>
						<a href="./example/HC05.ino">範例下載</a>
					</section>
				</section>

				<section>
					<section>
						<h3>講解一下這次的範例在做啥吧 \(OwO \)</h3>
					</section>
					<section>
						<h5>引入檔案並宣告一個物件BTSerial</h5>
						<pre><code class="arduino">#include &ltSoftwareSerial.h&gt
SoftwareSerial BTSerial(10, 11);</code></pre>
					</section>
					<section>
						<h5>初始化BTSerial</h5>
						<h5>規範HC-05,Arduino,PC間的通訊速率</h5>
						<pre><code class="arduino">void setup() {
pinMode(9, OUTPUT);
digitalWrite(9, HIGH);
Serial.begin(9600);
BTSerial.begin(38400);
}</code></pre>
					</section>
					<section>
						<h5>建立並進行HC-05,Arduino,PC間的通訊</h5>
						<pre><code class="arduino">void loop() {
  if (BTSerial.available())
    Serial.write(BTSerial.read());
  if (Serial.available())
    BTSerial.write(Serial.read());
}</code></pre>
					</section>
				</section>

				<section>
					<section>
						<h3>確認藍芽模組已進入AT模式(信號燈閃爍)</h3>
						<h3>開啟序列埠監控視窗(Ctrl+Shift+M)</h3>
					</section>
					<section>
						<h3>輸入「AT」看看是否能收到OK的回應</h3>
					</section>
					<section>
						<h2>視個人需求更改藍芽模組設定</h2>
						<h3><table>
							<thead>
								<tr>
									<th>...</th>
									<th>Command</th>
								</tr>	
							</thead>
							<tbody>
								<tr>
									<th>查詢address</th>
									<th>AT+ADDR?</th>
								</tr>
								<tr>
									<th>查詢名字</th>
									<th>AT+NAME?</th>
								</tr>
								<tr>
									<th>更改名字為XXX</th>
									<th>AT+NAME=XXX</th>
								</tr>
								<tr>
									<th>查詢配對密碼</th>
									<th>AT+PSWD?</th>
								</tr>
								<tr>
									<th>更改配對密碼為XXX</th>
									<th>AT+PSWD=XXX</th>
								</tr>
							</tbody>
						</table></h3>
					</section>
				</section>

				<section>
					<section>
						<h1>綜合應用</h1>
						<h3 class="fragment">先上傳<a href="./example/BB8.ino">範例</a>到Arduino上</h3>
					</section>
					<section data-background="http://images4.fanpop.com/image/photos/24000000/Lord-Voldemort-lord-voldemort-24011677-450-192.jpg">
						<h1>魔王來襲!!! (X_X)</h1>
						<h3>本次課程最難的部分......</h3>
					</section>
					<section>
						<h2>60+ 行 (OAO )</h2>
						<pre><code class="arduino">#include &ltSoftwareSerial.h&gt
#include &ltWire.h&gt
#include &ltServo.h&gt
bool DEBUG = false;
#define KEY 9
#define RXD 10
#define TXD 11
#define MAX_BTCMDLEN 128
SoftwareSerial BTSerial(RXD, TXD);
#define Servo_1_Data 5
#define Servo_2_Data 6
Servo Servo_1, Servo_2;
int pos_1 = 0, pos_2 = 0;

void setup() {
  pinMode(KEY, OUTPUT);
  digitalWrite(KEY, LOW);
  Serial.begin(9600);
  BTSerial.begin(38400);
  Servo_1.attach(Servo_1_Data,500,2400);
  Servo_2.attach(Servo_2_Data,500,2400);
  Servo_1.write(90);
  Servo_2.write(90);
  delay(3000);
}

void loop() {
  byte _cmd[MAX_BTCMDLEN];
  int len = 0;
  memset(_cmd,0,MAX_BTCMDLEN);
  for(int i = 0; i < MAX_BTCMDLEN; i++) {
    for(int _len = 0; _len < BTSerial.available(); _len++) {
      _cmd[(len++)%MAX_BTCMDLEN] = BTSerial.read();
    }
  }
  if(len != 0) {
    String cmd = String(_cmd);
    if(DEBUG) {
      Serial.print("Command: ");Serial.print(cmd);
      Serial.print(", Pos: ");Serial.print(pos_1);
      Serial.print(", ");Serial.println(pos_2);
    }
    if(cmd == "M+GO")    { pos_1 += 1;}
    if(cmd == "M+BACK")  { pos_1 -= 1;}
    if(cmd == "M+LEFT")  { pos_2 += 1;}
    if(cmd == "M+RIGHT") { pos_2 -= 1;}
    if(cmd == "M+STOP")  { pos_1 = 0; pos_2 = 0;}
    Servo_1.write(90 + pos_1);
    Servo_2.write(90 + pos_2);
    delay(100);
  }
}</code></pre>
					</section>
					<section>
						<h2>沒有拉，上傳就能用了</h2>
						<h5 class="fragment">我也覺得教不完來著... (o_o )</h5>
					</section>
				</section>

				<section>
					<section>
						<h1>那最後<span class="fragment">.</span><span class="fragment">.</span><span class="fragment">.</span></h1>
					</section>
					<section>
						<h4>恭喜大家完成自己的第一個機器人拉 \(OuO \)</h4>
					</section>
				</section>
			</div>
		</div>
		<script src="../lib/js/head.min.js"></script>
		<script src="../js/reveal.js"></script>
		<script>
			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,
				transition: 'slide', // none/fade/slide/convex/concave/zoom
				// Optional reveal.js plugins
				dependencies: [
					{ src: '../lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: '../plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '../plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '../plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: '../plugin/zoom-js/zoom.js', async: true },
					{ src: '../plugin/notes/notes.js', async: true }
				]
			});
		</script>
	</body>
</html>
